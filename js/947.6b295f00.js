"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[947],{8484:function(t,e,s){s.d(e,{Z:function(){return m}});var a=s(6252),n=s(3577);const o={class:"toast-container position-fixed pe-3 top-10 end-0",style:{"z-index":"1500"}},i={class:"toast-header"},l={class:"me-auto"},c=["onClick"],r={key:0,class:"toast-body"};function u(t,e,s,u,d,p){return(0,a.wg)(),(0,a.iD)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.messages,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:(0,n.C_)(["toast show",`toast${e}`]),role:"alert"},[(0,a._)("div",i,[(0,a._)("span",{class:(0,n.C_)([`bg-${t.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),(0,a._)("strong",l,(0,n.zw)(t.title),1),(0,a._)("button",{type:"button",class:"btn-close",onClick:t=>p.clearToast(e),"aria-label":"Close"},null,8,c)]),t.content?((0,a.wg)(),(0,a.iD)("div",r,(0,n.zw)(t.content),1)):(0,a.kq)("",!0)],2)))),128))])}var d={data(){return{messages:[]}},inject:["emitter"],methods:{toastShow(){setTimeout((()=>{this.messages.shift()}),6e3)},clearToast(t){this.messages.splice(t,1)}},mounted(){this.emitter.on("push-message",(t=>{const{style:e="success",title:s,content:a}=t;this.messages.push({style:e,title:s,content:a}),this.toastShow()}))}},p=s(3744);const h=(0,p.Z)(d,[["render",u]]);var m=h},3947:function(t,e,s){s.r(e),s.d(e,{default:function(){return T}});var a=s(6252),n=s(9963);const o={class:"navbar navbar-expand-lg navbar-dark bg-dark"},i={class:"container-fluid"},l=(0,a.Uk)("後台"),c=(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1),r={class:"collapse navbar-collapse",id:"navbarSupportedContent"},u={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item"},p=(0,a.Uk)("後台產品列表"),h={class:"nav-item"},m=(0,a.Uk)("訂單列表"),k={class:"nav-item"},v=(0,a.Uk)("優惠券"),g={class:"nav-item"},b=(0,a.Uk)("文章"),_={class:"nav-item"},w=(0,a.Uk)("返回前台");function f(t,e,s,f,y,C){const $=(0,a.up)("router-link"),x=(0,a.up)("RouterView"),S=(0,a.up)("ToastMessages");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",o,[(0,a._)("div",i,[(0,a.Wm)($,{class:"navbar-brand",to:"/admin/"},{default:(0,a.w5)((()=>[l])),_:1}),c,(0,a._)("div",r,[(0,a._)("ul",u,[(0,a._)("li",d,[(0,a.Wm)($,{class:"nav-link",to:"/admin/"},{default:(0,a.w5)((()=>[p])),_:1})]),(0,a._)("li",h,[(0,a.Wm)($,{class:"nav-link",to:"/admin/order"},{default:(0,a.w5)((()=>[m])),_:1})]),(0,a._)("li",k,[(0,a.Wm)($,{class:"nav-link",to:"/admin/coupon"},{default:(0,a.w5)((()=>[v])),_:1})]),(0,a._)("li",g,[(0,a.Wm)($,{class:"nav-link",to:"/admin/article"},{default:(0,a.w5)((()=>[b])),_:1})]),(0,a._)("li",_,[(0,a.Wm)($,{class:"nav-link",to:"/"},{default:(0,a.w5)((()=>[w])),_:1})])])]),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:e[0]||(e[0]=(0,n.iM)(((...t)=>C.signout&&C.signout(...t)),["prevent"]))}," 登出 ")])]),y.checkSuccess?((0,a.wg)(),(0,a.j4)(x,{key:0})):(0,a.kq)("",!0),(0,a.Wm)(S)],64)}var y=s(4902),C=s(8484),$={components:{ToastMessages:C.Z},provide(){return{emitter:y.Z}},data(){return{checkSuccess:!1}},methods:{checkLogin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");t?(this.$http.defaults.headers.common.Authorization=`${t}`,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check",{api_token:this.token}).then((()=>{this.checkSuccess=!0})).catch((t=>{alert(t.data.message),this.$router.push("/login")}))):(alert("您尚未登入。"),this.$router.push("/login"))},signout(){document.cookie="hexToken=;expires=;",alert("token 已清除"),this.$router.push("/login")}},mounted(){this.checkLogin()}},x=s(3744);const S=(0,x.Z)($,[["render",f]]);var T=S}}]);
//# sourceMappingURL=947.6b295f00.js.map