{"version":3,"file":"js/947.6b295f00.js","mappings":"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","sources":["webpack://week6/./src/components/ToastMessages.vue","webpack://week6/./src/components/ToastMessages.vue?2a51","webpack://week6/./src/views/admin/DashboardView.vue","webpack://week6/./src/views/admin/DashboardView.vue?fec8"],"sourcesContent":["<template>\n  <div class=\"toast-container position-fixed pe-3 top-10 end-0\" style=\"z-index: 1500\">\n    <div v-for=\"(msg, key) in messages\" :key=\"key\"\n    class=\"toast show\" :class=\"`toast${key}`\" role=\"alert\">\n      <div class=\"toast-header\">\n        <span :class=\"`bg-${msg.style}`\" class=\"p-2 rounded me-2 d-inline-block\"></span>\n        <strong class=\"me-auto\">{{ msg.title }}</strong>\n        <button type=\"button\" class=\"btn-close\" @click=\"clearToast(key)\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"toast-body\" v-if=\"msg.content\">\n        {{ msg.content }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      messages: []\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    toastShow () {\n      setTimeout(() => {\n        this.messages.shift()\n      }, 6000)\n    },\n    clearToast (index) {\n      this.messages.splice(index, 1)\n    }\n  },\n  mounted () {\n    this.emitter.on('push-message', (message) => {\n      const { style = 'success', title, content } = message\n      this.messages.push({ style, title, content })\n      this.toastShow()\n    })\n  }\n}\n</script>\n","import { render } from \"./ToastMessages.vue?vue&type=template&id=92398a5a\"\nimport script from \"./ToastMessages.vue?vue&type=script&lang=js\"\nexport * from \"./ToastMessages.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/alberto/Vue/temp/Vue_SnowBro/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <router-link class=\"navbar-brand\" to=\"/admin/\">後台</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/\"\n              >後台產品列表</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/order\"\n              >訂單列表</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/coupon\"\n              >優惠券</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/admin/article\"\n              >文章</router-link\n            >\n          </li>\n          <li class=\"nav-item\">\n            <router-link class=\"nav-link\" to=\"/\">返回前台</router-link>\n          </li>\n        </ul>\n      </div>\n      <button type=\"button\" class=\"btn btn-primary\" @click.prevent=\"signout\">\n        登出\n      </button>\n    </div>\n  </nav>\n  <RouterView v-if=\"checkSuccess\"/>\n  <ToastMessages />\n</template>\n\n<script>\nimport emitter from '@/libs/emitter'\nimport ToastMessages from '@/components/ToastMessages.vue'\n\nexport default {\n  components: {\n    ToastMessages\n  },\n  provide () {\n    return {\n      emitter\n    }\n  },\n  data () {\n    return {\n      checkSuccess: false\n    }\n  },\n  methods: {\n    checkLogin () {\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = `${token}`\n        this.$http.post(`${process.env.VUE_APP_API}/api/user/check`, { api_token: this.token })\n          .then(() => {\n            this.checkSuccess = true\n          })\n          .catch((err) => {\n            alert(err.data.message)\n            this.$router.push('/login')\n          })\n      } else {\n        alert('您尚未登入。')\n        this.$router.push('/login')\n      }\n    },\n    signout () {\n      document.cookie = 'hexToken=;expires=;'\n      alert('token 已清除')\n      this.$router.push('/login')\n    }\n  },\n  mounted () {\n    this.checkLogin()\n  }\n}\n</script>\n","import { render } from \"./DashboardView.vue?vue&type=template&id=f3172ec8\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/alberto/Vue/temp/Vue_SnowBro/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_Fragment","_renderList","$data","msg","key","role","_createElementVNode","_toDisplayString","title","type","onClick","$options","content","data","messages","inject","methods","toastShow","setTimeout","this","shift","clearToast","index","splice","mounted","emitter","on","message","push","__exports__","render","id","_createVNode","_component_router_link","to","_hoisted_4","_createBlock","_component_RouterView","_component_ToastMessages","components","ToastMessages","provide","checkSuccess","checkLogin","token","document","cookie","replace","$http","defaults","headers","common","Authorization","post","api_token","then","catch","err","alert","$router","signout"],"sourceRoot":""}